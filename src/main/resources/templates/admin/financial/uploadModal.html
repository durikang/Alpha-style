<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="uploadModalFragment">
<div class="modal fade" id="uploadModal" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="uploadModalLabel">파일 업로드</h5>

                <!-- data-bs-dismiss="modal" 를 제거하여, 우리가 직접 닫기 제어 -->
                <button type="button" class="btn-close" id="closeModalButton" aria-label="닫기">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="uploadForm" action="http://localhost:5000/upload" method="POST" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="fileInput" class="form-label">업로드할 파일을 선택하세요</label>
                        <input type="file" id="fileInput" name="files" accept=".xlsx,.csv" multiple class="form-control">
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">업로드</button>
                        <button type="button" id="cancelButton" class="btn btn-secondary">취소</button>
                    </div>
                </form>

                <!-- 진행 상태 섹션 -->
                <div id="progress-section" class="status-section mt-4">
                    <h3 class="progress-title">업로드 진행:</h3>
                    <div class="progress mt-3" style="height: 24px;">
                        <!-- progress-bar-* 클래스로 색상 지정, striped+animated로 시각 강화 -->
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                             role="progressbar"
                             style="width: 0%;"
                             aria-valuemin="0"
                             aria-valuemax="100"
                             id="bootstrapProgressBar">
                            0%
                        </div>
                    </div>
                    <!-- 진행 상태 텍스트 -->
                    <span id="progressText" class="progress-text">0%</span>
                </div>
            </div>
        </div>
    </div>
</div>
</html>
