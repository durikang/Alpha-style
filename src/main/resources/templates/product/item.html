<!DOCTYPE HTML>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layouts/defaultLayout}"
      layout:fragment="Content">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 상세</title>
    <link rel="stylesheet" th:href="@{/css/item.css}" href="../css/item.css">
</head>
<body>

<!-- 상품 상세 레이아웃 -->
<div class="product-container">

    <!-- 왼쪽: 이미지 섹션 -->
    <div class="image-section">
        <div class="main-image-wrapper">
            <!-- 메인 이미지 -->
            <img th:src="${item.mainImage != null ? '/file/' + item.mainImage.storeFileName : 'https://via.placeholder.com/400x500.png?text=Main+Image'}"
                 alt="상품 메인 이미지" class="main-image">
        </div>
        <div class="thumbnail-gallery">
            <!-- 썸네일 1 -->
            <img th:src="${item.thumbnails != null and item.thumbnails.size() > 0 ? '/file/' + item.thumbnails[0].storeFileName : 'https://via.placeholder.com/80x100.png?text=Thumbnail+1'}"
                 alt="썸네일 1" class="thumbnail">
            <!-- 썸네일 2 -->
            <img th:src="${item.thumbnails != null and item.thumbnails.size() > 1 ? '/file/' + item.thumbnails[1].storeFileName : 'https://via.placeholder.com/80x100.png?text=Thumbnail+2'}"
                 alt="썸네일 2" class="thumbnail">
            <!-- 썸네일 3 -->
            <img th:src="${item.thumbnails != null and item.thumbnails.size() > 2 ? '/file/' + item.thumbnails[2].storeFileName : 'https://via.placeholder.com/80x100.png?text=Thumbnail+3'}"
                 alt="썸네일 3" class="thumbnail">
            <!-- 썸네일 4 -->
            <img th:src="${item.thumbnails != null and item.thumbnails.size() > 3 ? '/file/' + item.thumbnails[3].storeFileName : 'https://via.placeholder.com/80x100.png?text=Thumbnail+4'}"
                 alt="썸네일 4" class="thumbnail">
        </div>
    </div>

    <!-- 오른쪽: 상세 정보 섹션 -->
    <div class="info-section">
        <h1>상품 상세</h1>

        <!-- 상품 ID -->
        <div class="detail-row">
            <label>상품 ID</label>
            <p th:text="${item.itemId}">12345</p>
        </div>

        <!-- 상품명 -->
        <div class="detail-row">
            <label>상품명</label>
            <p th:text="${item.itemName}">상품명 예시</p>
        </div>

        <!-- 가격 -->
        <div class="detail-row">
            <label>가격</label>
            <p class="price" th:text="'₩' + ${formattedPrice}">₩26,000</p>
        </div>

        <!-- 수량 -->
        <div class="detail-row">
            <label>수량</label>
            <p th:text="${item.quantity}">10</p>
        </div>

        <!-- 판매 여부 -->
        <div class="detail-row">
            <label>판매 여부</label>
            <p th:text="${item.open != null and item.open ? '판매 중' : '판매 중지'}">판매 중</p>
        </div>

        <!-- 등록 지역 -->
        <div class="detail-row">
            <label>등록 지역</label>
            <div class="checkbox-grid">
                <div th:each="region : ${item.regions}">
                    <p th:text="${region.displayName}">등록 지역 없음</p>
                </div>
            </div>
        </div>

        <!-- 상품 종류 -->
        <div class="detail-row">
            <label>상품 종류</label>
            <p th:text="${item.itemType != null ? item.itemType.description : '알 수 없음'}">도서</p>
        </div>

        <!-- 배송 방식 -->
        <div class="detail-row">
            <label>배송 방식</label>
            <p th:text="${deliveryDisplayName}">빠른 배송</p>
        </div>

        <!-- 버튼 -->
        <div class="buttons">
            <a th:href="@{/product/items/{itemId}/edit(itemId=${item.itemId})}" class="btn-edit">상품 수정</a>
            <a th:href="@{/product/items}" class="btn-back">목록으로</a>
        </div>
    </div>

</div>

</body>
</html>
